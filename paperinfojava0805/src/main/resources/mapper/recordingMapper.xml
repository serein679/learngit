<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.shxy.sudatqd.mapper.recordingMapper">
<select id="selectrecordingList" resultType="com.shxy.models.views.recordingItem">
    SELECT 	ap.*,
    a.archiveName,
    u.userName AS creatorName
    FROM
    recording ap
    LEFT JOIN
    archive a
    ON
    ap.archiveId = a.archiveId
    LEFT JOIN
    user u
    ON
    ap.creatorId = u.userId
    <where>
        <if test="id != null">
            AND ap.archiveId = #{id}
        </if>
        <if test="type != null">
            AND ap.status = #{type}
        </if>
    </where>
</select>
</mapper>
"use strict";(self["webpackChunksudatqd"]=self["webpackChunksudatqd"]||[]).push([[7636],{37636:function(e,t,a){a.r(t),a.d(t,{default:function(){return d}});var i=function(){var e=this,t=e._self._c;return t("div",{staticStyle:{"margin-top":"8px","background-color":"antiquewhite","min-height":"800px"}},[t("div",{staticStyle:{"background-color":"antiquewhite"}},[t("div",[t("el-row",[t("el-col",{attrs:{span:3,offset:1}},[t("h3",{staticClass:"location"},[e._v("当前位置：")])]),t("el-col",{staticStyle:{"margin-top":"43px"},attrs:{span:10}},[t("el-breadcrumb",{attrs:{separator:"/"}},[t("el-breadcrumb-item",[e._v("图像识别")])],1)],1)],1),t("el-row",{staticStyle:{height:"10px"}},[t("el-col",{key:e.index,staticClass:"main-area",attrs:{span:18}})],1)],1),t("div",[t("div",{staticStyle:{height:"80px"}}),t("el-upload",{attrs:{drag:"",action:"doUpload",limit:1,"file-list":e.fileList,id:"id","http-request":e.modeUpload,"auto-upload":!0,"on-preview":e.handlePictureCardPreview,"on-change":e.handleAvatarChangeIcon,"before-upload":e.beforeFileUpload,headers:e.headers}},[e.imageUrl?t("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):t("i",{staticClass:"el-icon-upload"}),t("div",{staticClass:"el-upload__text",staticStyle:{"margin-top":"2px"}},[e._v("将文件拖到此处，或"),t("em",[e._v("点击上传")])]),t("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传1M以内的文件")])]),t("el-button",{staticStyle:{"margin-top":"20px"},attrs:{type:"primary"},on:{click:function(t){return e.uploadOcr()}}},[e._v(" 提交 ")])],1),t("el-dialog",{attrs:{"modal-append-to-body":!1,visible:e.imgVisible,width:"30%"},on:{"update:visible":function(t){e.imgVisible=t}}},[t("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:"图片未找到"}})]),t("div"),t("div",{staticStyle:{"text-align":"left","margin-left":"35px"},attrs:{data:this.resp}},[t("div",{staticStyle:{"font-family":"楷体","font-size":"24px"}},[e._v("识别结果：")]),t("textarea",{directives:[{name:"model",rawName:"v-model",value:this.resp,expression:"this.resp"}],staticStyle:{"margin-left":"2%","font-family":"楷体"},attrs:{cols:"140",rows:"12"},domProps:{value:this.resp},on:{input:function(t){t.target.composing||e.$set(this,"resp",t.target.value)}}})])],1)])},r=[],s=(a(14603),a(47566),a(98721),a(57381)),l={data(){return{resp:{},fileList:[],imgVisible:!1,dialogImageUrl:"",file:[],headers:{"Content-Type":"multipart/form-data"},resp:"",imageUrl:""}},methods:{handleAvatarChangeIcon(e,t){const a="image/jpeg"===e.raw.type,i="image/png"===e.raw.type;if(!i&&!a)return this.$message.error("上传图片只能是 JPG/PNG 格式!"),!1;this.imageUrl=URL.createObjectURL(e.raw),this.uploadOcr(e)},modeUpload(e){this.file=e.file,console.log(this.file)},handlePictureCardPreview(e){this.imgVisible=!0,this.dialogImageUrl=e.target.currentSrc,this.uploadDisabled=!0},beforeFileUpload(e){const t=e.size/1024/1024<1;return t?(this.file=e,console.log(this.file),this.fileName=e.name,!1):(this.$message.error("上传的文件大小不能超过 1MB!"),!1)},uploadOcr(){console.log(this.file);const e=new FormData;e.append("file",this.file),console.log(e.get("file")),(0,s.wj)(e).then((e=>{this.resp=e,console.log(this.resp)}))}},created(){}},o=l,n=a(81656),c=(0,n.A)(o,i,r,!1,null,"7894d88f",null),d=c.exports},62106:function(e,t,a){var i=a(50283),r=a(24913);e.exports=function(e,t,a){return a.get&&i(a.get,t,{getter:!0}),a.set&&i(a.set,t,{setter:!0}),r.f(e,t,a)}},22812:function(e){var t=TypeError;e.exports=function(e,a){if(e<a)throw new t("Not enough arguments");return e}},14603:function(e,t,a){var i=a(36840),r=a(79504),s=a(655),l=a(22812),o=URLSearchParams,n=o.prototype,c=r(n.append),d=r(n["delete"]),u=r(n.forEach),p=r([].push),h=new o("a=1&a=2&b=3");h["delete"]("a",1),h["delete"]("b",void 0),h+""!=="a=2"&&i(n,"delete",(function(e){var t=arguments.length,a=t<2?void 0:arguments[1];if(t&&void 0===a)return d(this,e);var i=[];u(this,(function(e,t){p(i,{key:t,value:e})})),l(t,1);var r,o=s(e),n=s(a),h=0,f=0,g=!1,m=i.length;while(h<m)r=i[h++],g||r.key===o?(g=!0,d(this,r.key)):f++;while(f<m)r=i[f++],r.key===o&&r.value===n||c(this,r.key,r.value)}),{enumerable:!0,unsafe:!0})},47566:function(e,t,a){var i=a(36840),r=a(79504),s=a(655),l=a(22812),o=URLSearchParams,n=o.prototype,c=r(n.getAll),d=r(n.has),u=new o("a=1");!u.has("a",2)&&u.has("a",void 0)||i(n,"has",(function(e){var t=arguments.length,a=t<2?void 0:arguments[1];if(t&&void 0===a)return d(this,e);var i=c(this,e);l(t,1);var r=s(a),o=0;while(o<i.length)if(i[o++]===r)return!0;return!1}),{enumerable:!0,unsafe:!0})},98721:function(e,t,a){var i=a(43724),r=a(79504),s=a(62106),l=URLSearchParams.prototype,o=r(l.forEach);i&&!("size"in l)&&s(l,"size",{get:function(){var e=0;return o(this,(function(){e++})),e},configurable:!0,enumerable:!0})}}]);
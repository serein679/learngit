"use strict";(self["webpackChunksudatqd"]=self["webpackChunksudatqd"]||[]).push([[7051],{7051:function(e,t,a){a.r(t),a.d(t,{default:function(){return h}});var i=function(){var e=this,t=e._self._c;return t("div",{staticStyle:{"margin-top":"8px","background-color":"antiquewhite"}},[t("div",{staticStyle:{margin:"0px",top:"140px","background-color":"antiquewhite"}},[t("div",{staticStyle:{margin:"0%",padding:"0%","background-color":"antiquewhite",height:"auto"}},[t("el-row",[t("el-col",{staticStyle:{bottom:"0px","text-align":"right"},attrs:{span:24}},[t("span",{staticClass:"sousuo"},[t("el-select",{staticStyle:{"background-color":"rgb(173, 138, 92)",width:"250px"},attrs:{filterable:"",remote:"","reserve-keyword":"",placeholder:"搜索","remote-method":e.remoteMethod1},model:{value:e.value1,callback:function(t){e.value1=t},expression:"value1"}},e._l(e.options1,(function(e){return t("el-option",{key:e.value1,attrs:{label:e.label,value:e.value1}})})),1)],1),t("span",[t("el-button",{staticStyle:{width:"70px",color:"blanchedalmond","background-color":"rgb(197, 160, 92)","border-color":"rgb(165, 122, 42)"},attrs:{type:"primary"},on:{click:function(t){return e.select(e.value1)}}},[e._v("搜索")])],1),t("div",{staticStyle:{"margin-top":"2%","font-size":"24px"}},[t("el-switch",{attrs:{"active-text":"卡片样式","inactive-text":"列表样式"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)])],1),1==e.value?t("el-row",e._l(e.his,(function(a){return t("el-col",{attrs:{span:6}},[t("el-card",{staticClass:"box-card",attrs:{"body-style":{padding:"2px"},shadow:"hover"}},[t("img",{staticClass:"image",attrs:{src:a.eventPic,width:"280px",height:"400px"},on:{click:function(t){return e.select(a.eventId)}}}),t("div",{staticStyle:{padding:"10px"}},[t("span",{staticStyle:{"font-family":"STKaiti","font-size":"24px"}},[e._v(e._s(a.eventName))]),t("div",{staticClass:"bottom clearfix"},[t("span",{staticStyle:{"font-size":"20px","font-family":"STKaiti"}},[e._v("事记时间："+e._s(new Date(a.eventDate).toLocaleDateString("zh").replaceAll("/","-"))+" ")]),t("el-button",{staticClass:"button",attrs:{type:"text"},on:{click:function(t){return e.select(a.eventId)}}},[e._v(">>>")])],1)])])],1)})),1):e._e(),0==e.value?t("el-row",[t("el-table",{staticStyle:{width:"90%",margin:"auto","margin-top":"10px","font-family":"STKaiti","font-size":"24px","text-align":"center","background-color":"antiquewhite","margin-left":"8%","margin-bottom":"4%"},attrs:{data:e.his,"row-style":{height:"70px","background-color":"antiquewhite","margin-left":"5px"},"header-cell-style":{color:"black","background-color":"antiquewhite","font-family":"32px"}}},[t("el-table-column",{attrs:{prop:"eventName",label:"事件名称",width:"980"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",{staticStyle:{"font-size":"22px",cursor:"pointer"}},[t("el-link",{on:{click:function(t){return e.select(a.row.eventId)}}},[t("div",{staticStyle:{"font-size":"22px"}},[e._v(" "+e._s(e._f("filterAmount")(a.row.eventName,25))+" ")])])],1)]}}],null,!1,2545072109)}),t("el-table-column",{attrs:{prop:"eventDate",label:"日期",width:"680"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(new Date(t.row.eventDate).toLocaleDateString("zh").replaceAll("/","-"))+" ")]}}],null,!1,3629157071)})],1)],1):e._e(),t("el-row",{staticStyle:{height:"90px"}},[t("el-pagination",{attrs:{background:"","current-page":e.currentPage,"page-sizes":[5,10,20],"page-size":20,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)])])},l=[],o=(a(44114),a(78896)),n=a(69053),s={name:"Introduction",components:{Pagination:n.A},data(){return{activeName:"1",teachers:[],his:[],total:0,his1:[],eventId:"",options1:[],value1:"",value:!0,dialogVisible:!1,formLabelWidth:"120px",currentPage:1,pageSizes:[20],pageSize:20}},created(){this.PageAllHis(),this.getQuery()},computed:{listSet1(){return this.his.map((e=>({value1:`${e.eventId}`,label:`${e.eventName}`})))}},methods:{select(e){""!==e&&(console.log(e),this.$router.push({path:"/teachers/detail",query:{info:this.$Base64.encode(e)}}))},remoteMethod1(e){""!==e?((0,o.xR)(e).then((e=>{this.his1=e.data})),setTimeout((()=>{this.options1=this.listSet1.filter((t=>t.label.toLowerCase().indexOf(e.toLowerCase())>-1))}),10)):this.options1=[]},getQuery(){if(null!=this.$route.query.activeName){var e=JSON.parse(this.$Base64.decode(this.$route.query.activeName));1==e?this.activeName="1":2==e?this.activeName="2":3==e&&(this.activeName="3"),console.log(this.activeName)}else this.activeName="1"},resetQuery1(){this.query="",this.currentPage=1,this.pageSize=10,this.typefilter="",this.coursefilter="",this.getHistoricalEvents()},handleClick(e,t){console.log(e,t)},reload(){this.isShow=!1,this.$nextTick((()=>{this.isShow=!0}))},onGoDetail(e){this.$router.push(`/teacher_detail/${e}`)},handleSizeChange(e){this.pageSize=e,this.PageAllHis(),console.log(`每页 ${e} 条`)},handleCurrentChange(e){this.currentPage=e,console.log(`当前页: ${e}`),this.PageAllHis()},PageAllHis(){var e=this.currentPage,t=this.pageSize,a=!0,i="",l="",n="",s="",r="eventId",c="",u=0;(0,o.Xq)({pageSize:t,isAsc:a,pageNum:e,eventName:i,eventDate:l,eventPic:n,eventDescription:s,orderColumn:r,creator:c,state:u}).then((a=>{a?(this.total=a.data.total,this.reload(),console.log(e+"/"+t+"/"+this.total),this.his=a.data.list):console.log(errorLog)}))}}},r=s,c=a(81656),u=(0,c.A)(r,i,l,!1,null,"4a39768d",null),h=u.exports}}]);
"use strict";(self["webpackChunksudatqd"]=self["webpackChunksudatqd"]||[]).push([[5774],{75774:function(t,e,i){i.r(e),i.d(e,{default:function(){return h}});var a=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{"margin-top":"8px"}},[e("div",[e("el-row",[e("el-col",{attrs:{span:24}},[e("p",{staticClass:"title"},[t._v("成分管理")]),e("el-row",{staticStyle:{"margin-top":"15px"}},[e("el-col",{staticClass:"filter",staticStyle:{"text-align":"left"},attrs:{span:11}},[e("span",[e("el-input",{staticStyle:{"font-family":"STKaiti","font-size":"20px",width:"250px"},attrs:{filterable:"",remote:"","reserve-keyword":"",placeholder:"请输入关键词",loading:t.loading,clearable:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),e("span",[e("el-button",{staticStyle:{"background-color":"peru","font-family":"STKaiti","font-size":"18px"},attrs:{type:"primary"},on:{click:t.filter}},[t._v("搜索")]),e("el-button",{staticStyle:{"font-family":"STKaiti","font-size":"18px"},attrs:{plain:""},on:{click:t.resetQuery}},[t._v("全部")])],1)]),e("el-col",{staticStyle:{"text-align":"right"},attrs:{span:13}},[e("el-button",{staticStyle:{"background-color":"peru",border:"0","font-family":"STKaiti","font-size":"18px","margin-left":"22px"},attrs:{type:"success",icon:"el-icon-plus"},on:{click:t.addPaper}},[t._v("新增成分 ")])],1)],1),e("el-row",{staticStyle:{"margin-top":"5px"}})],1)],1),t.isShow?e("el-table",{ref:"table",staticClass:"table",staticStyle:{width:"100%",margin:"auto","margin-top":"10px","font-family":"STKaiti","font-size":"18px","text-align":"center","background-color":"antiquewhite"},attrs:{data:t.hisList,"empty-text":"暂无资源"},on:{"filter-change":t._filterChange}},[e("el-table-column",{staticStyle:{"text-align":"center"},attrs:{label:"序号",width:"120px",type:"index",index:t.indexMethods}}),e("el-table-column",{attrs:{label:"成分名称",prop:"componentName",width:"250px"},scopedSlots:t._u([t._l(t.hisList,(function(i){return{key:"default",fn:function(i){return[e("div",{staticStyle:{"font-size":"18px"}},[e("el-link",{on:{click:function(e){return t.select(i.row.componentId)}}},[e("div",{staticStyle:{"font-size":"18px"}},[t._v(t._s(i.row.componentName))])])],1)]}}}))],null,!0)}),e("el-table-column",{attrs:{label:"成分类型",prop:"componentType",width:"200px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.typeName2[e.row.componentType])+" ")]}}],null,!1,78506913)}),e("el-table-column",{attrs:{label:"成分描述",prop:"description",width:"280px"}}),e("el-table-column",{attrs:{label:"上传人",prop:"creator",width:"200px"}}),e("el-table-column",{attrs:{label:"上传时间",prop:"creationTime",width:"200px",sortable:""},scopedSlots:t._u([t._l(t.hisList,(function(e){return{key:"default",fn:function(e){return[t._v(" "+t._s(new Date(e.row.creationTime).toLocaleDateString("zh").replaceAll("/","-"))+" ")]}}}))],null,!0)}),e("el-table-column",{attrs:{label:"成分状态",prop:"state",width:"200px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.typeName1[e.row.state])+" ")]}}],null,!1,3673020834)}),e("el-table-column",{attrs:{label:"管理",width:"150px",fixed:"right",prop:"state"},scopedSlots:t._u([{key:"default",fn:function(i){return[1!=i.row.state?e("el-button",{staticStyle:{"font-size":"18px"},attrs:{type:"text",size:"big"},on:{click:function(e){return t.updateClick(i.row.componentId)}}},[t._v(" 编辑")]):t._e(),1!=i.row.state?e("el-button",{staticStyle:{"font-size":"18px"},attrs:{type:"text",size:"big"},on:{click:function(e){return t.deleClick(i.row.componentId)}}},[t._v("删除")]):t._e(),0!=i.row.state?e("el-button",{staticStyle:{"font-size":"18px"},attrs:{type:"text",size:"big"},on:{click:function(e){return t.deleClick1(i.row.componentId)}}},[t._v(" 取消删除")]):t._e()]}}],null,!1,2780727626)})],1):t._e(),e("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total1>0,expression:"total1 > 0"}],staticStyle:{width:"100%",margin:"auto","font-family":"STKaiti"},attrs:{page:t.currentPage,limit:t.pageSize,"page-sizes":t.pageSizes,layout:"total, sizes, prev, pager, next, jumper",total:Number(t.total1)},on:{"update:page":function(e){t.currentPage=e},"update:limit":function(e){t.pageSize=e},pagination:t.PageAllHis}})],1)])},s=[],n=(i(44114),i(53019),i(69053)),o=i(60250),l=i(71966),r=i(30558),p=i(77819),c={name:"Managenent",components:{Pagination:n.A},data(){return{activeName1:"1",activeName:"1",coursefilter:"",typefilter:"",typefilter1:"",users:[],options:[],value:[],institutionList:[],list:[],loading:!1,isShow:!0,dialogVisible7:!1,adVisible7:!1,dialogVisible9:!1,adVisible9:!1,dialogVisible8:!1,adVisible8:!1,teachers:[],smid:"",paperList:[],teachers:[],hisList:[],currentPage:1,pageSizes:[2,5,10,20,30,50],pageSize:10,total:"",total1:"",total2:"",total5:"",selectName:[],selectName7:[],query:"",name:"",order:0,oneProjects:[],fileName:"",fileName1:"",file:null,dialogVisible5:!1,adVisible5:!1,total4:"",typeName:{0:"手工纸",1:"机械纸",2:"半手工半机械纸"},typeName1:{0:"正常",1:"已删除"},typeName2:{0:"填料成分",1:"染色成分",2:"施胶成分",3:"涂布成分"},fileList:[],fileList1:[],headers:{},dialogVisible:!1,adVisible:!1,dialogVisible1:!1,adVisible1:!1,dialogVisible2:!1,adVisible2:!1,formLabelWidth:"120px",typelist:[{paperType:"0",typeName:"手工纸"},{paperType:"1",typeName:"机械纸"},{paperType:"2",typeName:"半手工半机械纸"}],typelist1:[{state:0,typeName1:"正常"},{state:1,typeName1:"已删除"}],pickerOptions:{shortcuts:[{text:"今天",onClick(t){t.$emit("pick",new Date)}},{text:"昨天",onClick(t){const e=new Date;e.setTime(e.getTime()-864e5),t.$emit("pick",e)}},{text:"一周前",onClick(t){const e=new Date;e.setTime(e.getTime()-6048e5),t.$emit("pick",e)}}]}}},created(){this.PageAllHis()},computed:{listSet(){return this.paperList.map((t=>({value:`${t.paperId}`,label:`${t.paperName}`})))}},methods:{filterTag(t,e,i){const a=i["property"];return e[a]===t},select(t){console.log(t),this.$router.push({path:"../teachers/detail",query:{info:this.$Base64.encode(t)}})},PageAllHis(){var t=this.currentPage,e=this.pageSize,i=!0,a="",s="",n="componentId",o="",r="";(0,l.Pz)({pageSize:e,isAsc:i,pageNum:t,componentType:a,componentName:s,orderColumn:n,creator:o,state:r}).then((i=>{i?(this.total1=i.data.total,this.reload(),console.log(t+"/"+e+"/"+this.total),this.hisList=i.data.list):console.log(p["default"])}))},remoteMethod1(t){""!==t?(this.loading=!0,(0,r.ZM)(t).then((t=>{this.institutionList1=t.data})),setTimeout((()=>{this.loading=!1,this.options1=this.listSet1.filter((e=>e.label.toLowerCase().indexOf(t.toLowerCase())>-1))}),10)):this.options1=[]},_filterChange(){this.totalSize=this.$refs.table.paperList.length,console.log(this.totalSize)},sendWangEditor(t){this.oneProjects.hyperlinks=t},reload(){this.isShow=!1,this.$nextTick((()=>{this.isShow=!0}))},openAdd(){this.adVisible=!0,this.addpaper=[],this.fileName=""},selectList1(){(0,o.L2)().then((t=>{this.selectName=t.data}))},resetQuery(){this.name="",this.currentPage=1,this.pageSize=10,this.typefilter="",this.typefilter1="",this.coursefilter="",this.PageAllHis()},filter(){this.currentPage=1,this.pageSize=10,console.log(this.name),this.PageAllHis()},indexMethods(t){return(this.currentPage-1)*this.pageSize+t+1},selectList(){AllResourceList().then((t=>{this.selectName=t.data}))},beforeFileUpload(t){const e=t.size/1024/1024<10;return e?(this.file=t,this.fileName=t.name,!1):(this.$message.error("上传的文件大小不能超过 10MB!"),!1)},updateClick(t){console.log(t),this.$router.push({path:"editorAchv",query:{info:this.$Base64.encode(t)}})},addPaper(){this.$router.push("/management/addAchv")},deleClick(t){this.$confirm("您确定要删除该成分吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{var e=t,i=1;(0,l.SY)({id:e,status:i}).then((t=>{"成分状态已更新！"==t.message?(this.$message({type:"success",message:"成分状态已更新！"}),this.$forceUpdate(),this.PageAllHis(this.order)):"暂无权限"==t.message?this.$message({type:"error",message:"暂无删除权限！"}):this.$message({type:"error",message:t.message})}))}))},deleClick1(t){this.$confirm("您确定要恢复该成分吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{var e=t,i=0;(0,l.SY)({id:e,status:i}).then((t=>{"成分状态已更新！"==t.message?(this.$message({type:"success",message:"成分状态已更新！"}),this.$forceUpdate(),this.PageAllHis(this.order)):"暂无权限"==t.message?this.$message({type:"error",message:"暂无删除权限！"}):this.$message({type:"error",message:t.message})}))}))},indexMethods4(t){return(this.currentPage4-1)*this.pageSize4+t+1}},filters:{formatData(t){return moment(t).format("YYYY-MM-DD")}}},u=c,d=i(81656),m=(0,d.A)(u,a,s,!1,null,"7d9f95a3",null),h=m.exports},71966:function(t,e,i){i.d(e,{Pz:function(){return s},SY:function(){return n},VN:function(){return l},w2:function(){return o}});var a=i(47120);function s(t){return(0,a.A)({url:"/Component/getComponentPageList",method:"post",data:t})}function n(t){return(0,a.A)({url:"/Component/changeComponentStatus",method:"post",data:t})}function o(){return(0,a.A)({url:"/Component/getComponentList",method:"post"})}function l(t){return(0,a.A)({url:"/Component/getComponentDetail",method:"post",data:t})}},53019:function(t,e,i){var a=i(85471);a["default"].filter("filterAmount",(function(t,e){return e||(e=20),t&&t.length>e&&(t=t.substring(0,e)+"..."),t}))}}]);